<main>
	<%- include('../partials/agentSidebar') %>
	
	<div id="main-wrapper">
		
		<div class="bg-white shadow-sm p-3">
			<span class="me-3" id="sidebar-toggler-btn"><i class="fas fa-bars"></i></span>
			<h5 class="m-0 color-theme d-inline-block">Verification Status</h5>
		</div>

		<div class="col col-lg-8 col-12 m-auto my-4">
			<div class="card shadow-sm border-0">
				<div class="card-body">
					<h4 class="card-title mb-3"><%= currentUser.restaurantName || 'Your NGO' %></h4>
					<p class="mb-1"><strong>Contact:</strong> <%= currentUser.ownerName || currentUser.firstName + ' ' + currentUser.lastName %></p>
					<p class="mb-1"><strong>Submitted on:</strong> <%= currentUser.joinedTime.toLocaleString("en-IN", { dateStyle: "medium", timeStyle: "short"}) %></p>
					
					<div class="my-3">
						<span class="badge fs-6 px-3 py-2
							<%= currentUser.verificationStatus === 'approved' ? 'bg-success' : currentUser.verificationStatus === 'rejected' ? 'bg-danger' : 'bg-warning text-dark' %>">
							Current status: <%= currentUser.verificationStatus %>
						</span>
					</div>

					<% if (currentUser.verificationStatus === 'pending') { %>
						<p class="text-muted">Our admin team is reviewing your NGO documents. We typically verify accounts within 24-48 hours.</p>
					<% } else if (currentUser.verificationStatus === 'approved') { %>
						<p class="text-success">Your NGO is verified. You can accept and collect donations.</p>
					<% } else if (currentUser.verificationStatus === 'rejected') { %>
						<div class="alert alert-danger">
							<p class="mb-2">Unfortunately, we couldn't verify your NGO account.</p>
							<% if (currentUser.verificationNotes) { %>
								<p class="mb-1"><strong>Reason:</strong> <%= currentUser.verificationNotes %></p>
							<% } %>
							<p class="mb-0">Please contact support or re-register with correct documents.</p>
						</div>
					<% } %>
				</div>
			</div>
		</div>
		
	</div>
</main>


